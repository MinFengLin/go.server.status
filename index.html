<!-- <html>
    {{ range $book := .books }}
    <h1>{{ .Title }}</h1>
    <table>{{ .Author }}</table>
    <hr/>
    {{ end }}
</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>民有路 - 各項服務狀態</title>
    <meta content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2786/2786366.png">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
pre {
    overflow-x: auto;
    max-width: 60vw;
}

pre code {
    word-wrap: normal;
    white-space: pre;
}
    </style>
</head>

<html><div class="container">
<!-- Wi-Fi QR-Code -->
<div class="card my-2">
    <h4 class="card-header text-center">
      Wi-Fi QR-Code
    </h4>
  <div class="card mb-3 mx-auto" style="max-width: 540px;">
      <div class="row align-items-center g-0">
          <div class="col-md-4">
            <img src="/Img/Lin-qrcode.png" alt="Lin-home_Wi-Fi" class="img-thumbnail">
          </div>
          <div class="col-md-8">
              <div class="card-body">
                  <h5 class="card-title">網路名稱: </h5>
                  <p class="card-text">Lin</p>
                  <hr>
                  <h5 class="card-title">密碼: </h5>
                  <p class="card-text">26277050</p>
              </div>
          </div>
          <hr>
          <div class="col-md-12">
              <span class="d-inline-block"><small class="text-muted"><strong>將手機相機對準 QR Code 即可自動連接 WiFi</strong></small>
              </span>
              <i class="fas fa-angle-down">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-camera-fill" viewBox="0 0 16 16">
                      <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                      <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-phone-fill" viewBox="0 0 16 16">
                        <path d="M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"/>
                  </svg>
              </i>
          </div>
      </div>
  </div>
</div>
<!-- End - Wi-Fi QR-Code -->

<div class="card my-2">
    <h4 class="card-header text-center">
      IoT Service Status & Control
    </h4>
    <div class="card-body pb-0">
        <small><table  class='table table-striped table-sm '><thead><tr><th>Service</th><th>Status</th><th>Control</th></tr></thead>
            {{ range $IoTservice := .IoTservices }}
                {{ if eq .Power "OFF" }}
                    <tr>
                        <td><a href="http://{{ .Ip }}"><strong>{{ .Service }}</strong></a></td><td class='table-success'><strong>Working</strong>
                        </td>
                        <td><a class='btn btn-danger' role='button' href="http://{{ .Ip }}/cm?cmnd=Power%20Off">Close</a>
                        </td>
                    </tr>
                {{else}}
                    <tr>
                        <td><a href="http://{{ .Ip }}"><strong>{{ .Service }}</strong></a></td><td class='table-danger'><strong>Shutdown</strong>
                        </td>
                        <td><a class='btn btn-primary' role='button' href="http://{{ .Ip }}/cm?cmnd=Power%20On\">Open</a>
                        </td>
                    </tr>
                {{end}}
            {{end}}
        </table></small>
    </div>
</div>
<div class="card my-2">
    <h4 class="card-header text-center">
        Service status
    </h4>
    <div class="card-body pb-0">
        <small><table  class='table table-striped table-sm '><thead><tr><th>Service</th><th>Status</th></tr></thead>
            {{ range $Homeservice := .Homeservices }}
                {{ if ne  .Port "53" }}
                    {{ if eq .Other_cfg "" }}
                        <tr>
                            <td><a href="http://{{ .Ip }}:{{ .Port }}"><strong>{{ .Service }}</strong></a></td><td class='table-success'>Status
                            </td>
                        </tr>
                    {{else}}
                        <tr>
                            <td><a href="http://{{ .Ip }}:{{ .Port }}/{{ .Other_cfg }}"><strong>{{ .Service }}</strong></a></td><td class='table-success'>Status
                            </td>
                        </tr>
                    {{end}}
                {{else}}
                    <tr>
                        <td><strong>{{ .Service }}</strong></td><td class='table-success'>Status
                        </td>
                    </tr>
                {{end}}
            {{end}}
        </table></small>
    </div>
</div>
