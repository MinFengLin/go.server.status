<!-- <html>
    {{ range $book := .books }}
    <h1>{{ .Title }}</h1>
    <table>{{ .Author }}</table>
    <hr/>
    {{ end }}
</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>民有路 - 各項服務狀態</title>
    <meta content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2786/2786366.png">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style type="text/css" media="screen">
        <!-- 
            @import url("/css/org.css");
        -->
    </style>
</head>

<html><div class="container">
<!-- Wi-Fi QR-Code -->
<div class="card my-2">
    <h4 class="card-header text-center">
      Wi-Fi QR-Code
    </h4>
  <div class="card mb-3 mx-auto" style="max-width: 540px;">
      <div class="row align-items-center g-0">
          <div class="col-md-4">
            <iframe src="{{ .Qrcodeurl.URL }}" alt="Lin-home_Wi-Fi" class="img-thumbnail"></iframe>
          </div>
          <div class="col-md-8">
              <div class="card-body">
                  <h5 class="card-title">網路名稱: </h5>
                  <p class="card-text">{{ .Qrcodeurl.SSID }}</p>
                  <hr>
                  <h5 class="card-title">密碼: </h5>
                  <p class="card-text">{{ .Qrcodeurl.WIFIPWD }}</p>
              </div>
          </div>
          <hr>
          <div class="col-md-12">
              <span class="d-inline-block"><small class="text-muted"><strong>將手機相機對準 QR Code 即可自動連接 WiFi</strong></small>
              </span>
              <i class="fas fa-angle-down">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-camera-fill" viewBox="0 0 16 16">
                      <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                      <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"/>
                  </svg>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-phone-fill" viewBox="0 0 16 16">
                        <path d="M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"/>
                  </svg>
              </i>
          </div>
      </div>
  </div>
</div>
<!-- End - Wi-Fi QR-Code -->
<!-- IoT Service -->
<div class="card my-2">
    <h4 class="card-header text-center">
      IoT Service Status & Control
    </h4>
    <div class="card-body pb-0">
        <small><table  class='table table-striped table-sm '><thead><tr><th>Service</th><th>Status</th><th>Control</th></tr></thead>
            {{ range $IoTservice := .IoTservices }}
                {{ if eq .Status "ON" }}
                    <tr>
                        <td><a href="http://{{ .Ip }}"><strong>{{ .Service }}</strong></a></td><td class='table-success'><strong>Working</strong>
                        </td>
                        <td><a class='btn btn-danger' role='button' href="http://{{ .Ip }}/{{ .Other_cfg }}%20Off">Close</a>
                        </td>
                    </tr>
                {{ else }}
                    <tr>
                        <td><a href="http://{{ .Ip }}"><strong>{{ .Service }}</strong></a></td><td class='table-danger'><strong>Shutdown</strong>
                        </td>
                        <td><a class='btn btn-primary' role='button' href="http://{{ .Ip }}/{{ .Other_cfg }}%20On">Open</a>
                        </td>
                    </tr>
                {{ end }}
            {{ end }}
        </table></small>
    </div>
</div>
<!-- End - IoT Service -->
<!-- Home Service -->
<div class="card my-2">
    <h4 class="card-header text-center">
        Service status
    </h4>
    <div class="card-body pb-0">
        <small><table  class='table table-striped table-sm '><thead><tr><th>Service</th><th>Port</th><th>Status</th></tr></thead>
            {{ range $Homeservice := .Homeservices }}
                {{ if ne  .Port "53" }}
                    {{ if eq .Other_cfg "" }}
                        <tr>
                            <td><a href="http://{{ .Ip }}:{{ .Port }}"><strong>{{ .Service }}</strong></a></td><td>{{ .Port }}</td>
                    {{ else }}
                        <tr>
                            <td><a href="http://{{ .Ip }}:{{ .Port }}/{{ .Other_cfg }}"><strong>{{ .Service }}</strong></a></td><td>{{ .Port }}</td>
                    {{ end }}
                    {{ if eq .Status "Online" }}
                        <td class='table-success'>{{ .Status }}</td>
                    {{ else if eq .Status "Offline"}}
                        <td class='table-danger'>{{ .Status }}</td>
                    {{ else }}
                        <td class='table-danger'>Checking...</td>
                    {{ end }}
                        </tr>
                {{ else }}
                    <tr>
                        {{ if eq .Status "Online" }}
                            <td><strong>{{ .Service }}</strong></td><td>53</td><td class='table-success'>{{ .Status }}</td>
                        {{ else if eq .Status "Offline" }}
                            <td><strong>{{ .Service }}</strong></td><td>53</td><td class='table-danger'>{{ .Status }}</td>
                        {{ else }}
                            <td><strong>{{ .Service }}</strong></td><td>53</td><td class='table-danger'>Checking...</td>
                        {{ end }}
                    </tr>
                {{ end }}
            {{ end }}
        </table></small>
    </div>
</div>
<!-- End - Home Service -->
<!-- UPS Information -->
<!-- <div class="card mb-2">
  <h4 class="card-header text-center">
    UPS information
  </h4>
  <div class="card-body"> -->
    <table class='table table-sm mb-0'>
        {{ if eq .Upsinfo.Upsfullinfo.Status "OL" }}
            <tr><td>Status</td><td><span class='badge badge-success'>{{ .Upsinfo.Upsfullinfo.Status }}</span> 穩定在線 - 已充飽</td></tr>
        {{ else if eq .Upsinfo.Upsfullinfo.Status "OL CHRG" }}
            <tr><td>Status</td><td><span class='badge badge-info'>{{ .Upsinfo.Upsfullinfo.Status }}</span> 穩定在線 - 充電中</td></tr>
        {{ else if eq .Upsinfo.Upsfullinfo.Status "OB DISCHRG" }}
            <tr><td>Status</td><td><span class='badge badge-primary'>{{ .Upsinfo.Upsfullinfo.Status }}</span> 電池供應模式</td></tr>
        {{ else if eq .Upsinfo.Upsfullinfo.Status "LB" }}
            <tr><td>Status</td><td><span class='badge badge-warning'>{{ .Upsinfo.Upsfullinfo.Status }}</span> 電池供應模式 - 低電量</td></tr>
        {{ else }}
            <tr><td>Status</td><td><span class='badge badge-danger'>{{ .Upsinfo.Upsfullinfo.Status }}</span> 關閉中</td></tr>
        {{ end }}
        <strong>{{ .Upsinfo.Battery.Charge | percent_to_color_charge }}</strong>
    </table>
<!-- End - UPS Information -->




<strong>{{ .Upsinfo.Battery.Charge }}</strong><br>
<strong>{{ .Upsinfo.Battery.Runtime }}</strong><br>
<strong>{{ .Upsinfo.Battery.Type }}</strong><br>
<strong>{{ .Upsinfo.Battery.Voltage }}</strong><br>
<strong>{{ .Upsinfo.Input.Voltage }}</strong><br>
<strong>{{ .Upsinfo.Upsfullinfo.Beeper.Status }}</strong><br>
<strong>{{ .Upsinfo.Upsfullinfo.Load }}</strong><br>
<strong>{{ .Upsinfo.Upsfullinfo.Mfr }}</strong><br>
<strong>{{ .Upsinfo.Upsfullinfo.Model }}</strong><br>
<strong>{{ .Upsinfo.Upsfullinfo.Serial }}</strong><br>
<strong>{{ .Upsinfo.Upsfullinfo.Status }}</strong><br>
<strong>{{ .Upsinfo.Upsfullinfo.Test.Result }}</strong>

<!-- wpa wpa2-->
<iframe style="border:none" width="150" height="150" src="https://tw.piliapp.com/generator/qr-code/iframe/?data=WIFI%3AS%3ALin%3BT%3AWPA%3BP%3A26277050%3B%3B&size=150"></iframe>
<!-- wep-->
<iframe style="border:none" width="150" height="150" src="https://tw.piliapp.com/generator/qr-code/iframe/?data=WIFI%3AS%3ALin%3BT%3AWEP%3BP%3A26277050%3B%3B&size=150"></iframe>
<!-- none-->
<iframe style="border:none" width="150" height="150" src="https://tw.piliapp.com/generator/qr-code/iframe/?data=WIFI%3AS%3ALin%3BT%3A%3BP%3A%3B%3B&size=150"></iframe>
